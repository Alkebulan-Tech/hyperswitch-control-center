// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as React from "react";
import * as LogicUtils from "../../utils/LogicUtils.bs.js";
import * as MixpanelHook from "../../screens/MixpanelHook.bs.js";
import * as HSwitchGlobalVars from "../../utils/HSwitchGlobalVars.bs.js";
import * as RescriptReactRouter from "@rescript/react/src/RescriptReactRouter.bs.js";

function Link(props) {
  var sendMixpanelEvents = props.sendMixpanelEvents;
  var onClick = props.onClick;
  var className = props.className;
  var openInNewTab = props.openInNewTab;
  var children = props.children;
  var to_ = props.to_;
  var openInNewTab$1 = openInNewTab !== undefined ? openInNewTab : false;
  var sendMixpanelEvents$1 =
    sendMixpanelEvents !== undefined ? sendMixpanelEvents : false;
  var mixpanelEvent = MixpanelHook.useSendEvent(undefined);
  var handleClick = React.useCallback(
    function (ev) {
      ev.stopPropagation();
      ev.preventDefault();
      if (onClick !== undefined) {
        Curry._1(onClick, to_);
      }
      if (sendMixpanelEvents$1) {
        var eventName = to_.replace(/^\//, "");
        Curry._4(
          mixpanelEvent,
          "" + eventName + "",
          undefined,
          undefined,
          undefined,
        );
      }
      RescriptReactRouter.push(HSwitchGlobalVars.appendDashboardPath(to_));
    },
    [to_],
  );
  if (openInNewTab$1) {
    if (LogicUtils.isEmptyString(to_.trim())) {
      return children;
    } else {
      return React.createElement(
        "a",
        {
          className: className,
          href: to_,
          target: "_blank",
          onClick: function (ev) {
            ev.stopPropagation();
          },
        },
        children,
      );
    }
  } else {
    return React.createElement(
      "a",
      {
        className: className,
        href: to_,
        onClick: handleClick,
      },
      children,
    );
  }
}

var make = Link;

export { make };
/* react Not a pure module */
