// Generated by ReScript, PLEASE EDIT WITH CARE

import * as LogicUtils from "../../utils/LogicUtils.bs.js";

var connectorsSupportEvidenceUpload = [
  {
    TAG: /* Processors */ 0,
    _0: /* CHECKOUT */ 1,
  },
  {
    TAG: /* Processors */ 0,
    _0: /* STRIPE */ 6,
  },
];

var connectorsSupportAcceptDispute = [
  {
    TAG: /* Processors */ 0,
    _0: /* CHECKOUT */ 1,
  },
];

var connectorSupportCounterDispute = [
  {
    TAG: /* Processors */ 0,
    _0: /* CHECKOUT */ 1,
  },
  {
    TAG: /* Processors */ 0,
    _0: /* STRIPE */ 6,
  },
];

function disputeStageVariantMapper(stage) {
  switch (stage) {
    case "dispute":
      return /* Dispute */ 1;
    case "pre-arbitration":
      return /* PreArbitration */ 2;
    case "pre_dispute":
      return /* PreDispute */ 0;
    default:
      return /* NotFound */ 3;
  }
}

function disputeStatusVariantMapper(status) {
  switch (status) {
    case "dispute_accepted":
      return /* DisputeAccepted */ 2;
    case "dispute_cancelled":
      return /* DisputeCancelled */ 3;
    case "dispute_challenged":
      return /* DisputeChallenged */ 4;
    case "dispute_expired":
      return /* DisputeExpired */ 1;
    case "dispute_lost":
      return /* DisputeLost */ 6;
    case "dispute_opened":
      return /* DisputeOpened */ 0;
    case "dispute_won":
      return /* DisputeWon */ 5;
    default:
      return /* NotFound */ {
        _0: status,
      };
  }
}

var showDisputeInfoStatus = [
  /* DisputeOpened */ 0, /* DisputeAccepted */ 2, /* DisputeChallenged */ 4,
];

var evidenceList = [
  "Receipt",
  "Refund Policy",
  "Uncategorized File",
  "Customer Signature",
  "Service Documentation",
  "Customer Communication",
  "Shipping Documentation",
  "Recurring Transaction Agreement",
  "Invoice Showing Distinct Transactions",
];

function getDictFromFilesAvailable(arrayValue) {
  var manipulatedDict = {};
  arrayValue.forEach(function (val) {
    var dictFromJson = LogicUtils.getDictFromJsonObject(val);
    var evidenceTypekey = LogicUtils.getString(
      dictFromJson,
      "evidence_type",
      "",
    );
    var filemetadata = LogicUtils.getDictfromDict(
      dictFromJson,
      "file_metadata_response",
    );
    var file_id = LogicUtils.getString(filemetadata, "file_id", "");
    var file_name = LogicUtils.getString(filemetadata, "file_name", "");
    var fileVal = LogicUtils.getJsonFromArrayOfJson([
      ["fileId", file_id],
      ["fileName", file_name],
    ]);
    manipulatedDict[evidenceTypekey] = fileVal;
  });
  return manipulatedDict;
}

function constructDisputesBody(dict, disputesId) {
  var body = {};
  Object.keys(dict).forEach(function (value) {
    var fileID = LogicUtils.getString(
      LogicUtils.getDictfromDict(dict, value),
      "fileId",
      "",
    );
    if (fileID.length > 0) {
      body[value] = fileID;
      return;
    }
  });
  body["dispute_id"] = disputesId;
  return body;
}

function getFileTypeFromFileName(fileName) {
  var lastIndex = fileName.lastIndexOf(".");
  return fileName.substring((lastIndex + 1) | 0);
}

export {
  connectorsSupportEvidenceUpload,
  connectorsSupportAcceptDispute,
  connectorSupportCounterDispute,
  disputeStageVariantMapper,
  disputeStatusVariantMapper,
  showDisputeInfoStatus,
  evidenceList,
  getDictFromFilesAvailable,
  constructDisputesBody,
  getFileTypeFromFileName,
};
/* LogicUtils Not a pure module */
