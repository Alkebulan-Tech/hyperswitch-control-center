// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as Js_exn from "rescript/lib/es6/js_exn.js";
import * as APIUtils from "../../../APIUtils/APIUtils.bs.js";
import * as LogicUtils from "../../../../utils/LogicUtils.bs.js";
import * as Caml_option from "rescript/lib/es6/caml_option.js";
import * as Caml_js_exceptions from "rescript/lib/es6/caml_js_exceptions.js";

function useGetData(param) {
  var filters = {};
  return async function (updateDetails, offset, query, path) {
    filters["offset"] = offset;
    filters["count"] = 10;
    filters["query"] = query;
    try {
      var url = APIUtils.getURL(
        /* GLOBAL_SEARCH */ 41,
        /* Post */ 2,
        Caml_option.some(path),
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
      );
      var res = await Curry._7(
        updateDetails,
        url,
        filters,
        /* Post */ 2,
        undefined,
        undefined,
        undefined,
        undefined,
      );
      var data = LogicUtils.getArrayFromDict(
        LogicUtils.getDictFromJsonObject(res),
        "hits",
        [],
      );
      var total = LogicUtils.getInt(
        LogicUtils.getDictFromJsonObject(res),
        "count",
        0,
      );
      return [data, total];
    } catch (raw_exn) {
      var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);
      if (exn.RE_EXN_ID === Js_exn.$$Error) {
        return Js_exn.raiseError("Something went wrong!");
      }
      throw exn;
    }
  };
}

var tableBorderClass =
  "border-collapse border border-jp-gray-940 border-solid border-2 border-opacity-30 dark:border-jp-gray-dark_table_border_color dark:border-opacity-30";

export { tableBorderClass, useGetData };
/* APIUtils Not a pure module */
